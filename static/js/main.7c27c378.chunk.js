(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{11:function(t,e,n){"use strict";n.d(e,"e",(function(){return r})),n.d(e,"f",(function(){return a})),n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return s})),n.d(e,"g",(function(){return o})),n.d(e,"h",(function(){return u})),n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return d}));var r="GET_TASKS",a="GET_TASKS_SUCCESS",c="ADD_TASK",s="ADD_TASK_SUCCESS",o="UPDATE_TASK",u="UPDATE_TASK_SUCCESS",i="DELETE_TASK",d="DELETE_TASK_SUCCESS"},110:function(t,e,n){},143:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),c=n(18),s=n.n(c),o=(n(110),n(3)),u=n(73),i=n(12),d=a.a.lazy((function(){return n.e(5).then(n.bind(null,324))})),b=a.a.lazy((function(){return n.e(4).then(n.bind(null,322))})),p=[{path:"/login",exact:!0,component:d},{path:null,component:i.a,props:{to:"/login"}}],l=[{path:"/",exact:!0,component:b},{path:null,component:i.a,props:{to:"/"}}],f=n(8),j=n.n(f),h=n(99),O=n(149),m=n(147),x=n(148),v=n(32),g=n(42),k=n(24),S=n(41),y=n(1),w=function(){var t=Object(g.b)((function(t){return t.auth})),e=t.auth,n=t.user,r=function(){var t=Object(h.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.a.get("/auth/logout");case 3:Object(v.b)({}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.error(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}();return Object(y.jsx)(O.a,{bg:"light",expand:"lg",className:"mb-3",children:Object(y.jsxs)(m.a,{children:[Object(y.jsx)(O.a.Brand,{className:"mx-auto",children:"To-Do App"}),e&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(O.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(y.jsx)(O.a.Collapse,{id:"basic-navbar-nav",children:Object(y.jsxs)(x.a,{className:"ms-auto",children:[Object(y.jsx)(x.a.Link,{children:n.email}),Object(y.jsx)(x.a.Link,{onClick:function(){return Object(S.a)()},children:"Add Task"}),Object(y.jsx)(x.a.Link,{onClick:r,children:"Logout"})]})})]})]})})},E=n(50),T=n(39),C=n(40),_=n(54),A=n(55),D=n(145),K=function(t){Object(_.a)(n,t);var e=Object(A.a)(n);function n(t){var r;return Object(T.a)(this,n),(r=e.call(this,t)).state={hasError:!1},r}return Object(C.a)(n,[{key:"componentDidCatch",value:function(t,e){console.log("logErrorToMyService",t,e)}},{key:"render",value:function(){return this.state.hasError?Object(y.jsx)(m.a,{children:Object(y.jsx)(D.a,{xs:"6",sm:"12",className:"mx-auto",children:Object(y.jsx)("h1",{children:"Something went wrong"})})}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(t){return{hasError:!0}}}]),n}(r.Component),L=n(20),N=a.a.lazy((function(){return Promise.all([n.e(2),n.e(6)]).then(n.bind(null,325))})),P=function(){return Object(y.jsx)(r.Suspense,{fallback:Object(y.jsx)(E.a,{}),children:Object(y.jsx)(N,{})})},U=function(){var t=Object(g.b)((function(t){return t.auth})),e=t.auth,n=t.user,a=t.loading;Object(r.useEffect)((function(){Object(v.a)()}),[]);var c=Object(r.useCallback)((function(){return e?l:p}),[e]);return a?Object(y.jsx)(E.a,{}):Object(y.jsx)(K,{children:Object(y.jsxs)(u.a,{children:[Object(y.jsx)(L.a,{}),Object(y.jsx)(w,{user:n}),Object(y.jsx)(r.Suspense,{fallback:Object(y.jsx)(E.a,{}),children:Object(y.jsx)(i.d,{children:c().map((function(t){return Object(y.jsx)(i.b,{path:t.path,exact:t.exact,render:function(e){return Object(y.jsx)(t.component,Object(o.a)(Object(o.a)({},e),t.props||{}))}},t.path)}))})}),Object(y.jsx)(P,{})]})})},M=function(t){t&&t instanceof Function&&n.e(7).then(n.bind(null,320)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,c=e.getLCP,s=e.getTTFB;n(t),r(t),a(t),c(t),s(t)}))},F=n(15);n(141),n(142);s.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(g.a,{store:F.a,children:Object(y.jsx)(U,{})})}),document.getElementById("root")),M()},15:function(t,e,n){"use strict";var r=n(36),a=n(3),c=n(45),s=n(51),o=Object(c.a)((function(t,e){var n=e.type,r=e.payload;return n===s.b?Object(a.a)(Object(a.a)({},t),{},{loading:!1,auth:r.auth,user:r.user}):t}),{auth:!1,loading:!1,user:null,error:null}),u=n(56),i=n(11),d=Object(c.a)((function(t,e){var n=e.type,r=e.payload;switch(n){case i.e:return Object(a.a)(Object(a.a)({},t),{},{loading:!0});case i.f:return Object(a.a)(Object(a.a)({},t),{},{items:r.items,count:r.count,loading:!1});case i.b:return Object(a.a)(Object(a.a)({},t),{},{items:[r].concat(Object(u.a)(t.items)),count:t.count+1});case i.h:return Object(a.a)(Object(a.a)({},t),{},{items:t.items.map((function(t){return t._id===r._id?r:t}))});case i.d:return Object(a.a)(Object(a.a)({},t),{},{items:t.items.filter((function(t){return t._id!==r._id})),count:t.count-1});default:return t}}),{items:[],count:0,loading:!0}),b=n(66),p=Object(c.a)((function(t,e){var n=e.type,r=e.payload;return n===b.a?Object(a.a)(Object(a.a)({},t),{},{taskModal:!t.taskModal,edit:r}):t}),{edit:null,taskModal:!1}),l=Object(r.combineReducers)({auth:o,tasks:d,modals:p}),f=n(104),j=n(100),h=n(8),O=n.n(h),m=n(14),x=n(24),v=n(32),g=O.a.mark(S),k=O.a.mark(y);function S(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(m.b)((function(){return x.a.get("/auth/session")}));case 3:t=e.sent,console.log(t.data),Object(v.b)(t.data),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),Object(v.b)({});case 12:case"end":return e.stop()}}),g,null,[[0,8]])}function y(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(m.d)("CHECK_SESSION",S);case 2:case"end":return t.stop()}}),k)}var w=n(31),E=O.a.mark(C),T=O.a.mark(_);function C(t){var e;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.payload,n.prev=1,n.next=4,Object(m.b)((function(){return x.a.get("/tasks")}));case 4:e=n.sent,Object(w.f)({items:e.data.tasks,count:e.data.count}),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(1),Object(w.f)({items:[],count:0}),console.error(n.t0);case 12:case"end":return n.stop()}}),E,null,[[1,8]])}function _(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(m.d)(i.e,C);case 2:case"end":return t.stop()}}),T)}var A=n(20),D=n(41),K=O.a.mark(N),L=O.a.mark(P);function N(t){var e,n,r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e=t.payload,n=t.setSubmitting,a.prev=1,a.next=4,Object(m.b)((function(){return x.a.post("/tasks/add",e)}));case 4:r=a.sent,Object(w.b)(r.data.task),n(!1),Object(D.a)(),A.b.success(r.data.message),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(1),console.error(a.t0),n(!1);case 15:case"end":return a.stop()}}),K,null,[[1,11]])}function P(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(m.c)(i.a,N);case 2:case"end":return t.stop()}}),L)}var U=O.a.mark(F),M=O.a.mark(z);function F(t){var e,n,r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e=t.payload,n=t.setSubmitting,a.prev=1,a.next=4,Object(m.b)((function(){return x.a.put("/tasks/update/".concat(e._id),e)}));case 4:r=a.sent,Object(w.h)(r.data.task),n(!1),Object(D.a)(),A.b.success(r.data.message),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(1),console.error(a.t0),n(!1);case 15:case"end":return a.stop()}}),U,null,[[1,11]])}function z(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(m.c)(i.g,F);case 2:case"end":return t.stop()}}),M)}var G=O.a.mark(B),I=O.a.mark(H);function B(t){var e,n,r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e=t.payload,n=t.setSubmitting,a.prev=1,a.next=4,Object(m.b)((function(){return x.a.delete("/tasks/remove/".concat(e))}));case 4:r=a.sent,Object(w.d)(r.data.task),n(!1),A.b.success(r.data.message),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),console.error(a.t0),n(!1);case 14:case"end":return a.stop()}}),G,null,[[1,10]])}function H(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(m.c)(i.c,B);case 2:case"end":return t.stop()}}),I)}var R=O.a.mark(J);function J(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(m.a)([y(),_(),P(),z(),H()]);case 2:case"end":return t.stop()}}),R)}var q=Object(f.a)(),W=Object(r.createStore)(l,Object(j.composeWithDevTools)(Object(r.applyMiddleware)(q)));q.run(J);e.a=W},24:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(101),a=n.n(r),c=n(20),s=n(32),o=a.a.create({baseURL:"https://app.regiman.co",withCredentials:!0});o.interceptors.response.use((function(t){return t}),(function(t){if(t.message.includes("Network Error"))return c.b.error("Network error, please try again later.");switch(t.response.status){case 401:return Object(s.b)({}),c.b.error("Authentication Required"),Promise.reject(t);case 403:return c.b.error("You don't have permission to do this"),Promise.reject(t);case 404:return c.b.error("404 : Page not found"),Promise.reject(t);default:c.b.error("Something went wrong")}}))},31:function(t,e,n){"use strict";n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return s})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return u})),n.d(e,"g",(function(){return i})),n.d(e,"h",(function(){return d})),n.d(e,"c",(function(){return b})),n.d(e,"d",(function(){return p}));var r=n(15),a=n(11),c=function(t){r.a.dispatch({type:a.e,payload:t})},s=function(t){r.a.dispatch({type:a.f,payload:t})},o=function(t,e){r.a.dispatch({type:a.a,payload:t,setSubmitting:e})},u=function(t){r.a.dispatch({type:a.b,payload:t})},i=function(t,e){r.a.dispatch({type:a.g,payload:t,setSubmitting:e})},d=function(t){r.a.dispatch({type:a.h,payload:t})},b=function(t,e){r.a.dispatch({type:a.c,payload:t,setSubmitting:e})},p=function(t){r.a.dispatch({type:a.d,payload:t})}},32:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return s}));var r=n(15),a=n(51),c=function(t){r.a.dispatch({type:a.a,payload:t})},s=function(t){r.a.dispatch({type:a.b,payload:t})}},41:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(15),a=n(66),c=function(t){r.a.dispatch({type:a.a,payload:t})}},50:function(t,e,n){"use strict";n(0);var r=n(144),a=n(1);e.a=function(){return Object(a.jsx)("div",{className:"text-center my-5",children:Object(a.jsx)(r.a,{animation:"border",role:"status",size:"lg"})})}},51:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return a}));var r="CHECK_SESSION",a="SET_AUTH"},66:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="TOGGLE_TASK_MODAL"}},[[143,1,3]]]);
//# sourceMappingURL=main.7c27c378.chunk.js.map