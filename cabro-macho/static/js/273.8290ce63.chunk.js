"use strict";(self.webpackChunkcabro_macho_fuse=self.webpackChunkcabro_macho_fuse||[]).push([[273],{47619:function(e,a,r){r.d(a,{Z:function(){return H}});var n=r(30168),t=r(4942),i=r(92550),o=r(88564),l=r(83061),s=r(47313),d=r(70499),c=r(19860),u=r(26159),p=r(84669),g=r(45894),h=r(46417);var m=function(e){var a=(0,c.Z)(),r=(0,g.v9)((0,p.lK)(a.palette.primary.main));return(0,h.jsx)("div",{className:"FusePageCarded-header",children:e.header&&(0,h.jsx)(u.Z,{theme:r,children:e.header})})},x=r(1413),f=r(29439),b=r(46923),v=r(57451),Z=r(60211);var j=function(e){var a=(0,c.Z)(),r=(0,g.v9)((0,p.lK)(a.palette.primary.main));return(0,h.jsxs)(h.Fragment,{children:[e.header&&(0,h.jsx)(u.Z,{theme:r,children:(0,h.jsx)("div",{className:(0,l.Z)("FusePageCarded-sidebarHeader",e.variant),children:e.header})}),e.content&&(0,h.jsx)(i.Z,{className:"FusePageCarded-sidebarContent",enable:e.innerScroll,children:e.content})]})};function C(e,a){var r=(0,s.useState)(!1),n=(0,f.Z)(r,2),t=n[0],i=n[1];(0,s.useImperativeHandle)(a,(function(){return{toggleSidebar:o}}));var o=function(){i(!t)};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(v.Z,{lgUp:"permanent"===e.variant,children:(0,h.jsx)(Z.Z,{variant:"temporary",anchor:e.position,open:t,onOpen:function(e){},onClose:function(e){return o()},disableSwipeToOpen:!0,classes:{root:(0,l.Z)("FusePageCarded-sidebarWrapper",e.variant),paper:(0,l.Z)("FusePageCarded-sidebar",e.variant,"left"===e.position?"FusePageCarded-leftSidebar":"FusePageCarded-rightSidebar")},ModalProps:{keepMounted:!0},container:e.rootRef.current,BackdropProps:{classes:{root:"FusePageCarded-backdrop"}},style:{position:"absolute"},children:(0,h.jsx)(j,(0,x.Z)({},e))})}),"permanent"===e.variant&&(0,h.jsx)(v.Z,{lgDown:!0,children:(0,h.jsx)(b.ZP,{variant:"permanent",className:(0,l.Z)("FusePageCarded-sidebarWrapper",e.variant),open:t,classes:{paper:(0,l.Z)("FusePageCarded-sidebar",e.variant,"left"===e.position?"FusePageCarded-leftSidebar":"FusePageCarded-rightSidebar")},children:(0,h.jsx)(j,(0,x.Z)({},e))})})]})}var P,S=(0,s.forwardRef)(C),w=(0,o.ZP)("div")((function(e){var a=e.theme;return{display:"flex",flexDirection:"row",minWidth:0,minHeight:"100%",position:"relative",flex:"1 1 auto",width:"100%",height:"auto",backgroundColor:a.palette.background.default,"& .FusePageCarded-innerScroll":{height:"100%"},"& .FusePageCarded-topBg":{position:"absolute",left:0,right:0,top:0,height:y,background:"linear-gradient(to right, ".concat(a.palette.primary.dark," 0%, ").concat(a.palette.primary.main," 100%)"),backgroundSize:"cover",pointerEvents:"none"},"& .FusePageCarded-contentWrapper":(0,t.Z)({display:"flex",flexDirection:"column",padding:"0 3.2rem",flex:"1 1 100%",zIndex:2,maxWidth:"100%",minWidth:0,minHeight:0},a.breakpoints.down("sm"),{padding:"0 1.6rem"}),"& .FusePageCarded-header":{height:F,minHeight:F,maxHeight:F,display:"flex",color:a.palette.primary.contrastText},"& .FusePageCarded-headerSidebarToggleButton":{color:a.palette.primary.contrastText},"& .FusePageCarded-contentCard":{display:"flex",flex:"1 1 100%",flexDirection:"column",backgroundColor:a.palette.background.paper,boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",minHeight:0,borderRadius:"20px 20px 0 0"},"& .FusePageCarded-toolbar":{height:N,minHeight:N,display:"flex",alignItems:"center",borderBottom:"1px solid ".concat(a.palette.divider)},"& .FusePageCarded-content":{flex:"1 1 auto",height:"100%",overflow:"auto",WebkitOverflowScrolling:"touch"},"& .FusePageCarded-sidebarWrapper":{position:"absolute",backgroundColor:"transparent",zIndex:5,overflow:"hidden","&.permanent":(0,t.Z)({},a.breakpoints.up("lg"),{zIndex:1,position:"relative"})},"& .FusePageCarded-sidebar":{position:"absolute","&.permanent":(0,t.Z)({},a.breakpoints.up("lg"),{backgroundColor:"transparent",position:"relative",border:"none",overflow:"hidden"}),width:k,height:"100%"},"& .FusePageCarded-leftSidebar":{},"& .FusePageCarded-rightSidebar":{},"& .FusePageCarded-sidebarHeader":{height:y,minHeight:y,color:a.palette.primary.contrastText,backgroundColor:a.palette.primary.dark,"&.permanent":(0,t.Z)({},a.breakpoints.up("lg"),{backgroundColor:"transparent"})},"& .FusePageCarded-sidebarContent":(0,t.Z)({display:"flex",flex:"1 1 auto",flexDirection:"column",backgroundColor:a.palette.background.default,color:a.palette.text.primary},a.breakpoints.up("lg"),{overflow:"auto",WebkitOverflowScrolling:"touch"}),"& .FusePageCarded-backdrop":{position:"absolute"}}})),k=240,y=200,N=64,F=y-N,I=(0,s.forwardRef)((function(e,a){var r=(0,s.useRef)(null),n=(0,s.useRef)(null),t=(0,s.useRef)(null),o=e.rightSidebarHeader||e.rightSidebarContent,c=e.leftSidebarHeader||e.leftSidebarContent;return(0,s.useImperativeHandle)(a,(function(){return{rootRef:t,toggleLeftSidebar:function(){r.current.toggleSidebar()},toggleRightSidebar:function(){n.current.toggleSidebar()}}})),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(d.Z,{styles:function(a){return{"#fuse-main":{height:e.innerScroll&&"100vh"}}}}),(0,h.jsxs)(w,{className:(0,l.Z)("FusePageCarded-root",e.innerScroll&&"FusePageCarded-innerScroll",e.className),ref:t,children:[(0,h.jsx)("div",{className:"FusePageCarded-topBg"}),(0,h.jsxs)("div",{className:"flex container w-full",children:[c&&(0,h.jsx)(S,{position:"left",header:e.leftSidebarHeader,content:e.leftSidebarContent,variant:e.leftSidebarVariant||"permanent",innerScroll:e.innerScroll,ref:r,rootRef:t}),(0,h.jsxs)("div",{className:(0,l.Z)("FusePageCarded-contentWrapper",c&&(void 0===e.leftSidebarVariant||"permanent"===e.leftSidebarVariant)&&"lg:ltr:pl-0 lg:rtl:pr-0",o&&(void 0===e.rightSidebarVariant||"permanent"===e.rightSidebarVariant)&&"lg:pr-0"),children:[(0,h.jsx)(m,{header:e.header}),(0,h.jsxs)("div",{className:(0,l.Z)("FusePageCarded-contentCard",e.innerScroll&&"inner-scroll"),children:[e.contentToolbar&&(0,h.jsx)("div",{className:"FusePageCarded-toolbar",children:e.contentToolbar}),e.content&&(0,h.jsx)(i.Z,{className:"FusePageCarded-content",enable:e.innerScroll,scrollToTopOnRouteChange:e.innerScroll,children:e.content})]})]}),o&&(0,h.jsx)(S,{position:"right",header:e.rightSidebarHeader,content:e.rightSidebarContent,variant:e.rightSidebarVariant||"permanent",innerScroll:e.innerScroll,ref:n,rootRef:t})]})]})]})}));I.defaultProps={};var H=(0,s.memo)((0,o.ZP)(I)(P||(P=(0,n.Z)([""]))))},45273:function(e,a,r){r.r(a),r.d(a,{default:function(){return U}});var n=r(4942),t=r(47619),i=r(88564),o=r(29439),l=r(69099),s=r(71263),d=r(56605),c=r(82295),u=r(26159),p=r(61113),g=r(51280),h=r(45894),m=r(29466),x=r(84669),f=r(42492),b=r(47313),v=r(46417);var Z=function(e){(0,h.I0)();var a=(0,b.useState)(""),r=(0,o.Z)(a,2),n=r[0],t=r[1],i=(0,h.v9)(x.rg);return(0,v.jsxs)("div",{className:"flex flex-1 w-full items-center justify-between",children:[(0,v.jsxs)("div",{className:"flex items-center",children:[(0,v.jsx)(s.Z,{component:g.E.span,initial:{scale:0},animate:{scale:1,transition:{delay:.2}},className:"text-24 md:text-32",children:"shopping_basket"}),(0,v.jsx)(p.Z,{component:g.E.span,initial:{x:-20},animate:{x:0,transition:{delay:.2}},delay:300,className:"hidden sm:flex text-16 md:text-24 mx-12 font-semibold",children:"Products"})]}),(0,v.jsx)("div",{className:"flex flex-1 items-center justify-center px-12",children:(0,v.jsx)(u.Z,{theme:i,children:(0,v.jsxs)(c.Z,{component:g.E.div,initial:{y:-20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},className:"flex items-center w-full max-w-512 px-8 py-4 rounded-16 shadow",children:[(0,v.jsx)(s.Z,{color:"action",children:"search"}),(0,v.jsx)(d.Z,{placeholder:"Search",className:"flex flex-1 mx-8",disableUnderline:!0,fullWidth:!0,value:n,inputProps:{"aria-label":"Search"},onChange:function(e){return t(e.target.value)}})]})})}),(0,v.jsx)(g.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0,transition:{delay:.2}},children:(0,v.jsxs)(l.Z,{component:m.rU,to:"/admin/products/new",className:"whitespace-nowrap",variant:"contained",color:"secondary",children:[(0,v.jsx)("span",{className:"hidden sm:flex",children:"Add New Product"}),(0,v.jsx)("span",{className:"flex sm:hidden",children:"New"})]})})]})},j=r(92550),C=r(58970),P=r(44758),S=r(66835),w=r(57861),k=r(67478),y=r(62323),N=r(24076),F=r(83061),I=r(8139),H=r(20408),R=r(47131),_=r(74748),T=r(83213),W=r(85582),B=r(51405),E=r(14560),q=r(82558),z=r(22260),D=r(83689),O=r(23477),M=[{id:"image",align:"left",disablePadding:!0,label:"",sort:!1},{id:"name",align:"left",disablePadding:!1,label:"Name",sort:!0},{id:"categories",align:"left",disablePadding:!1,label:"Category",sort:!0},{id:"priceTaxIncl",align:"right",disablePadding:!1,label:"Price",sort:!0},{id:"quantity",align:"right",disablePadding:!1,label:"Quantity",sort:!0},{id:"active",align:"right",disablePadding:!1,label:"Active",sort:!0}];var V=function(e){var a=e.selectedProductIds.length,r=(0,b.useState)(null),n=(0,o.Z)(r,2),t=n[0],i=n[1];function l(){i(null)}return(0,h.I0)(),(0,v.jsx)(O.Z,{children:(0,v.jsxs)(N.Z,{className:"h-48 sm:h-64",children:[(0,v.jsxs)(k.Z,{padding:"none",className:"w-40 md:w-64 text-center z-99",children:[(0,v.jsx)(P.Z,{indeterminate:a>0&&a<e.rowCount,checked:0!==e.rowCount&&a===e.rowCount,onChange:e.onSelectAllClick}),a>0&&(0,v.jsxs)(D.Z,{className:"flex items-center justify-center absolute w-64 top-0 ltr:left-0 rtl:right-0 mx-56 h-64 z-10 border-b-1",sx:{background:function(e){return e.palette.background.paper}},children:[(0,v.jsx)(R.Z,{"aria-owns":t?"selectedProductsMenu":null,"aria-haspopup":"true",onClick:function(e){i(e.currentTarget)},size:"large",children:(0,v.jsx)(s.Z,{children:"more_horiz"})}),(0,v.jsx)(W.Z,{id:"selectedProductsMenu",anchorEl:t,open:Boolean(t),onClose:l,children:(0,v.jsx)(E.Z,{children:(0,v.jsxs)(B.Z,{onClick:function(){e.onMenuItemClick(),l()},children:[(0,v.jsx)(_.Z,{className:"min-w-40",children:(0,v.jsx)(s.Z,{children:"delete"})}),(0,v.jsx)(T.Z,{primary:"Remove"})]})})})]})]}),M.map((function(a){return(0,v.jsx)(k.Z,{className:"p-4 md:p-16",align:a.align,padding:a.disablePadding?"none":"normal",sortDirection:e.order.id===a.id&&e.order.direction,children:a.sort&&(0,v.jsx)(z.Z,{title:"Sort",placement:"right"===a.align?"bottom-end":"bottom-start",enterDelay:300,children:(0,v.jsx)(q.Z,{active:e.order.id===a.id,direction:e.order.direction,onClick:(r=a.id,function(a){e.onRequestSort(a,r)}),className:"font-semibold",children:a.label})})},a.id);var r}),this)]})})};var A=(0,I.Z)((function(e){var a=(0,h.I0)(),r=(0,h.v9)((function(e){return e.products.loading})),n=(0,h.v9)((function(e){return e.products.products})),t=(0,b.useState)([]),i=(0,o.Z)(t,2),l=i[0],d=i[1],c=(0,b.useState)([]),u=(0,o.Z)(c,2),m=u[0],x=u[1],Z=(0,b.useState)(""),I=(0,o.Z)(Z,2),R=I[0],_=(I[1],(0,b.useState)(0)),T=(0,o.Z)(_,2),W=T[0],B=T[1],E=(0,b.useState)(10),q=(0,o.Z)(E,2),z=q[0],D=q[1],O=(0,b.useState)({direction:"asc",id:null}),M=(0,o.Z)(O,2),A=M[0],L=M[1];return(0,b.useEffect)((function(){a((0,f.Xp)())}),[a]),(0,b.useEffect)((function(){0!==R.length?(d(C.Z.filter(n,(function(e){return e.name.toLowerCase().includes(R.toLowerCase())}))),B(0)):d(n)}),[n,R]),r?(0,v.jsx)(H.Z,{}):0===l.length?(0,v.jsx)(g.E.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.1}},className:"flex flex-1 items-center justify-center h-full",children:(0,v.jsx)(p.Z,{color:"textSecondary",variant:"h5",children:"There are no products!"})}):(0,v.jsxs)("div",{className:"w-full flex flex-col",children:[(0,v.jsx)(j.Z,{className:"grow overflow-x-auto",children:(0,v.jsxs)(S.Z,{stickyHeader:!0,className:"min-w-xl","aria-labelledby":"tableTitle",children:[(0,v.jsx)(V,{selectedProductIds:m,order:A,onSelectAllClick:function(e){e.target.checked?x(l.map((function(e){return e._id}))):x([])},onRequestSort:function(e,a){var r=a,n="desc";A._id===a&&"desc"===A.direction&&(n="asc"),L({direction:n,id:r})},rowCount:l.length,onMenuItemClick:function(){x([])}}),(0,v.jsx)(w.Z,{children:C.Z.orderBy(l,[function(e){return"categories"===A._id?e.categories[0]:e[A._id]}],[A.direction]).slice(W*z,W*z+z).map((function(a){var r=-1!==m.indexOf(a._id);return(0,v.jsxs)(N.Z,{className:"h-72 cursor-pointer",hover:!0,role:"checkbox","aria-checked":r,tabIndex:-1,selected:r,onClick:function(r){return n=a,void e.navigate("/admin/products/".concat(n._id,"/").concat(n.handle));var n},children:[(0,v.jsx)(k.Z,{className:"w-40 md:w-64 text-center",padding:"none",children:(0,v.jsx)(P.Z,{checked:r,onClick:function(e){return e.stopPropagation()},onChange:function(e){return function(e,a){var r=m.indexOf(a),n=[];-1===r?n=n.concat(m,a):0===r?n=n.concat(m.slice(1)):r===m.length-1?n=n.concat(m.slice(0,-1)):r>0&&(n=n.concat(m.slice(0,r),m.slice(r+1))),x(n)}(0,a._id)}})}),(0,v.jsx)(k.Z,{className:"w-52 px-4 md:px-0",component:"th",scope:"row",padding:"none",children:a.images.length>0&&a.featuredImageId?(0,v.jsx)("img",{className:"w-full block rounded",src:C.Z.find(a.images,{id:a.featuredImageId}).url,alt:a.name}):(0,v.jsx)("img",{className:"w-full block rounded",src:"assets/images/ecommerce/product-image-placeholder.png",alt:a.name})}),(0,v.jsx)(k.Z,{className:"p-4 md:p-16",component:"th",scope:"row",children:a.name}),(0,v.jsx)(k.Z,{className:"p-4 md:p-16 truncate",component:"th",scope:"row",children:a.categories.join(", ")}),(0,v.jsxs)(k.Z,{className:"p-4 md:p-16",component:"th",scope:"row",align:"right",children:[(0,v.jsx)("span",{children:"$"}),a.priceTaxIncl]}),(0,v.jsxs)(k.Z,{className:"p-4 md:p-16",component:"th",scope:"row",align:"right",children:[a.quantity,(0,v.jsx)("i",{className:(0,F.Z)("inline-block w-8 h-8 rounded mx-8",a.quantity<=5&&"bg-red",a.quantity>5&&a.quantity<=25&&"bg-orange",a.quantity>25&&"bg-green")})]}),(0,v.jsx)(k.Z,{className:"p-4 md:p-16",component:"th",scope:"row",align:"right",children:a.active?(0,v.jsx)(s.Z,{className:"text-green text-20",children:"check_circle"}):(0,v.jsx)(s.Z,{className:"text-red text-20",children:"remove_circle"})})]},a._id)}))})]})}),(0,v.jsx)(y.Z,{className:"shrink-0 border-t-1",component:"div",count:l.length,rowsPerPage:z,page:W,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onPageChange:function(e,a){B(a)},onRowsPerPageChange:function(e){D(e.target.value)}})]})})),L=(0,i.ZP)(t.Z)((function(e){var a=e.theme;return{"& .FusePageCarded-header":(0,n.Z)({minHeight:72,height:72,alignItems:"center"},a.breakpoints.up("sm"),{minHeight:136,height:136}),"& .FusePageCarded-content":{display:"flex"},"& .FusePageCarded-contentCard":{overflow:"hidden"}}}));var U=function(){return(0,v.jsx)(L,{header:(0,v.jsx)(Z,{}),content:(0,v.jsx)(A,{}),innerScroll:!0})}}}]);